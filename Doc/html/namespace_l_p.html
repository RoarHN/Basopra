<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Optimization of PV-coupled battery systems for combining applications impact of battery technology and location: LP Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Optimization of PV-coupled battery systems for combining applications impact of battery technology and location
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">LP Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Created on Wed Nov 1 15:44:25 2017 Author Alejandro Pena-Bello <a href="#" onclick="location.href='mai'+'lto:'+'ale'+'ja'+'ndr'+'o.'+'pen'+'ab'+'ell'+'o@'+'uni'+'ge'+'.ch'; return false;">aleja<span style="display: none;">.nosp@m.</span>ndro<span style="display: none;">.nosp@m.</span>.pena<span style="display: none;">.nosp@m.</span>bell<span style="display: none;">.nosp@m.</span>o@uni<span style="display: none;">.nosp@m.</span>ge.c<span style="display: none;">.nosp@m.</span>h</a> In this script the optimization is set up.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aff8a41d69b2aa8c8092b2aedd2eb3df6"><td class="memItemLeft" align="right" valign="top"><a id="aff8a41d69b2aa8c8092b2aedd2eb3df6"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>Concrete_model</b> (Data)</td></tr>
<tr class="separator:aff8a41d69b2aa8c8092b2aedd2eb3df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad40054f3f8a78955c488f1ece50fed"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#adad40054f3f8a78955c488f1ece50fed">Bool_char_rule_1</a> (m, i)</td></tr>
<tr class="separator:adad40054f3f8a78955c488f1ece50fed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc88e88fcb3e47650195e6e8aa72578"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#aabc88e88fcb3e47650195e6e8aa72578">Bool_char_rule_2</a> (m, i)</td></tr>
<tr class="separator:aabc88e88fcb3e47650195e6e8aa72578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e586c9382ca19f09272983cfec619a6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a5e586c9382ca19f09272983cfec619a6">Bool_char_rule_3</a> (m, i)</td></tr>
<tr class="separator:a5e586c9382ca19f09272983cfec619a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1507e408c138290f403907a50e2b5d1c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a1507e408c138290f403907a50e2b5d1c">Bool_char_rule_4</a> (m, i)</td></tr>
<tr class="separator:a1507e408c138290f403907a50e2b5d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce964cd8e67ad18d750c9dd5b793ea9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#acce964cd8e67ad18d750c9dd5b793ea9">Batt_char_dis</a> (m, i)</td></tr>
<tr class="separator:acce964cd8e67ad18d750c9dd5b793ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dc6c0a11259a3e6c48c358aec140385"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a4dc6c0a11259a3e6c48c358aec140385">Balance_Batt_rule</a> (m, i)</td></tr>
<tr class="separator:a4dc6c0a11259a3e6c48c358aec140385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac61ce084b61fa22a2546dafc494bcb0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#aac61ce084b61fa22a2546dafc494bcb0">E_char_rule</a> (m, i)</td></tr>
<tr class="separator:aac61ce084b61fa22a2546dafc494bcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab78ac81e78bfa9c6a030d20f4422d4ab"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#ab78ac81e78bfa9c6a030d20f4422d4ab">E_dis_rule</a> (m, i)</td></tr>
<tr class="separator:ab78ac81e78bfa9c6a030d20f4422d4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d28f45143d7ae45b7e2358dfe14923"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a85d28f45143d7ae45b7e2358dfe14923">Bool_cons_rule_1</a> (m, i)</td></tr>
<tr class="separator:a85d28f45143d7ae45b7e2358dfe14923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a748be39fe52af9daef16738ff06030b7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a748be39fe52af9daef16738ff06030b7">Bool_cons_rule_2</a> (m, i)</td></tr>
<tr class="separator:a748be39fe52af9daef16738ff06030b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3409e76da5b5e02801ea5ba73dc7f1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a3d3409e76da5b5e02801ea5ba73dc7f1">Bool_cons_rule_3</a> (m, i)</td></tr>
<tr class="separator:a3d3409e76da5b5e02801ea5ba73dc7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dda8c2199a8eba50bb01cdc929d37e5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a9dda8c2199a8eba50bb01cdc929d37e5">Bool_cons_rule_4</a> (m, i)</td></tr>
<tr class="separator:a9dda8c2199a8eba50bb01cdc929d37e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91a1eb4aff41e831d022f2ededb6dcd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#ab91a1eb4aff41e831d022f2ededb6dcd">Cons_rule</a> (m, i)</td></tr>
<tr class="separator:ab91a1eb4aff41e831d022f2ededb6dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aaf8565592895b8afeffcd33c6452c7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a0aaf8565592895b8afeffcd33c6452c7">Grid_cons_rule</a> (m, i)</td></tr>
<tr class="separator:a0aaf8565592895b8afeffcd33c6452c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5c98af22d032fe4789fbf07ff0f7fb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#aaa5c98af22d032fe4789fbf07ff0f7fb">Balance_PV_rule</a> (m, i)</td></tr>
<tr class="separator:aaa5c98af22d032fe4789fbf07ff0f7fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5e92f8502a9cbcd92198d9857a6d83"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a1b5e92f8502a9cbcd92198d9857a6d83">Sold_rule</a> (m, i)</td></tr>
<tr class="separator:a1b5e92f8502a9cbcd92198d9857a6d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7995ecb2641ea88b0911ec2aeca541ca"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a7995ecb2641ea88b0911ec2aeca541ca">Balance_load_rule</a> (m, i)</td></tr>
<tr class="separator:a7995ecb2641ea88b0911ec2aeca541ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063633601bec91a8e0bf87f9bb0aa6ab"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a063633601bec91a8e0bf87f9bb0aa6ab">def_storage_state_rule</a> (m, t)</td></tr>
<tr class="separator:a063633601bec91a8e0bf87f9bb0aa6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae69104b239c580c31f61daa9845e39e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#aae69104b239c580c31f61daa9845e39e">Conv_losses_rule</a> (m, i)</td></tr>
<tr class="separator:aae69104b239c580c31f61daa9845e39e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad920676464ef0ff1688919b8c81ab873"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#ad920676464ef0ff1688919b8c81ab873">Inv_losses_PV_rule</a> (m, i)</td></tr>
<tr class="separator:ad920676464ef0ff1688919b8c81ab873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5baa41892f3e1bd503c0259eb081d7c"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#ab5baa41892f3e1bd503c0259eb081d7c">Inv_losses_Batt_rule</a> (m, i)</td></tr>
<tr class="separator:ab5baa41892f3e1bd503c0259eb081d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec58b73a9e0936ba025185e9beac66be"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#aec58b73a9e0936ba025185e9beac66be">Inv_losses_Grid_rule</a> (m, i)</td></tr>
<tr class="separator:aec58b73a9e0936ba025185e9beac66be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e04fc6d66eb06e7b8673fc28098b0bb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a8e04fc6d66eb06e7b8673fc28098b0bb">Inv_losses_rule</a> (m, i)</td></tr>
<tr class="separator:a8e04fc6d66eb06e7b8673fc28098b0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25895a3a7f6a2f6e7a24db67779a7232"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a25895a3a7f6a2f6e7a24db67779a7232">Batt_losses_rule</a> (m, i)</td></tr>
<tr class="separator:a25895a3a7f6a2f6e7a24db67779a7232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac92c34a0b08510b70b35e0d5c70443ee"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#ac92c34a0b08510b70b35e0d5c70443ee">Inverter_rule</a> (m, i)</td></tr>
<tr class="separator:ac92c34a0b08510b70b35e0d5c70443ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2b4ae6c314b779015922d5635090710"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#ab2b4ae6c314b779015922d5635090710">Converter_rule</a> (m, i)</td></tr>
<tr class="separator:ab2b4ae6c314b779015922d5635090710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8faf34cc39e6767513fc5a8957d2611f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a8faf34cc39e6767513fc5a8957d2611f">Inverter_grid_rule</a> (m, i)</td></tr>
<tr class="separator:a8faf34cc39e6767513fc5a8957d2611f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12fc2729e8471d6cd254664a9bd94390"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a12fc2729e8471d6cd254664a9bd94390">P_max_rule</a> (m, i)</td></tr>
<tr class="separator:a12fc2729e8471d6cd254664a9bd94390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785fe683f3e79df7f8a0234fd7bae5b7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a785fe683f3e79df7f8a0234fd7bae5b7">Curtailment_rule</a> (m, i)</td></tr>
<tr class="separator:a785fe683f3e79df7f8a0234fd7bae5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf9197fcddcdd5c3bd324a1227235ee2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#acf9197fcddcdd5c3bd324a1227235ee2">PVSC_rule</a> (m, i)</td></tr>
<tr class="separator:acf9197fcddcdd5c3bd324a1227235ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073ca69e2d3f4650b19e9f703f0e3295"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_l_p.html#a073ca69e2d3f4650b19e9f703f0e3295">Obj_fcn</a> (m)</td></tr>
<tr class="separator:a073ca69e2d3f4650b19e9f703f0e3295"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Created on Wed Nov 1 15:44:25 2017 Author Alejandro Pena-Bello <a href="#" onclick="location.href='mai'+'lto:'+'ale'+'ja'+'ndr'+'o.'+'pen'+'ab'+'ell'+'o@'+'uni'+'ge'+'.ch'; return false;">aleja<span style="display: none;">.nosp@m.</span>ndro<span style="display: none;">.nosp@m.</span>.pena<span style="display: none;">.nosp@m.</span>bell<span style="display: none;">.nosp@m.</span>o@uni<span style="display: none;">.nosp@m.</span>ge.c<span style="display: none;">.nosp@m.</span>h</a> In this script the optimization is set up. </p>
<p>This <a class="el" href="namespace_l_p.html" title="Created on Wed Nov 1 15:44:25 2017 Author Alejandro Pena-Bello alejandro.penabello@unige.ch In this script the optimization is set up. ">LP</a> algorithm allows the user to optimize the daily electricity bill The system here presented is a DC-coupled system with a charge controller and a bi-directional inverter as presented in [1] It includes efficiency losses. It includes 4 applications and their combination with PVSC as base app. avoidance of PV curtailment, Demand peak shaving and demand load shifting. Demand peak shaving is done in the same basis than the optimization, i.e. if it is a daily optimization, the peak shaving is done every day, if it is yearly, then the peak of the year is shaved and so on. According to the Data it can be expanded to one month or n years optimization An Integrated Inverter is used, in this script the Converter and inverter efficiency are the same and are an input from the user. The delta_t allows the user to set the time step delta_t=fraction of hour, e.g. delta_t=0.25 is a 15 min time step [1] Installed Cost Benchmarks and Deployment Barriers for Residential Solar+ Photovoltaics with Energy Storage: Q1 2016 Kristen Ardani,Eric O'Shaughnessy,Ran Fu,Chris McClurg,Joshua Huneycutt, and Robert Margolis </p><hr/>
<p> | PV |&mdash;&gt;| MPPT+Ch.Ctrl|&ndash;&gt;|Bi-Inv|------&mdash;|Grid| -&mdash; ----------&mdash; ---&mdash; | --&mdash; | | | | --------&mdash; | | --&mdash; | |Load| </p><hr/>
 <h2>| Batt | </h2>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4dc6c0a11259a3e6c48c358aec140385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dc6c0a11259a3e6c48c358aec140385">&#9670;&nbsp;</a></span>Balance_Batt_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Balance_Batt_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Balance of the battery charge, discharge and efficiency losses.
</pre> 
</div>
</div>
<a id="a7995ecb2641ea88b0911ec2aeca541ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7995ecb2641ea88b0911ec2aeca541ca">&#9670;&nbsp;</a></span>Balance_load_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Balance_load_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Balance of electricity demand, includes the electricity provided by the PV, the battery and the grid.
TODO
-------
include the bi-directional inverter energy standby consumption as a function
of the inverter power
</pre> 
</div>
</div>
<a id="aaa5c98af22d032fe4789fbf07ff0f7fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5c98af22d032fe4789fbf07ff0f7fb">&#9670;&nbsp;</a></span>Balance_PV_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Balance_PV_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Balance of PV consumption, includes the electricity provided to the battery, the loads, losses in the inverter and the converter. Includes as well curtailed PV.
</pre> 
</div>
</div>
<a id="acce964cd8e67ad18d750c9dd5b793ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce964cd8e67ad18d750c9dd5b793ea9">&#9670;&nbsp;</a></span>Batt_char_dis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Batt_char_dis </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the battery to charge and discharge at the same time 5/5
</pre> 
</div>
</div>
<a id="a25895a3a7f6a2f6e7a24db67779a7232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25895a3a7f6a2f6e7a24db67779a7232">&#9670;&nbsp;</a></span>Batt_losses_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Batt_losses_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Battery losses definition. 1-Battery_efficiency times the electricity that pass through the battery (roundtrip efficiency).
</pre> 
</div>
</div>
<a id="adad40054f3f8a78955c488f1ece50fed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad40054f3f8a78955c488f1ece50fed">&#9670;&nbsp;</a></span>Bool_char_rule_1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Bool_char_rule_1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the battery to charge and discharge at the same time 1/5
</pre> 
</div>
</div>
<a id="aabc88e88fcb3e47650195e6e8aa72578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc88e88fcb3e47650195e6e8aa72578">&#9670;&nbsp;</a></span>Bool_char_rule_2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Bool_char_rule_2 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the battery to charge and discharge at the same time 2/5
</pre> 
</div>
</div>
<a id="a5e586c9382ca19f09272983cfec619a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e586c9382ca19f09272983cfec619a6">&#9670;&nbsp;</a></span>Bool_char_rule_3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Bool_char_rule_3 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the battery to charge and discharge at the same time 3/5
</pre> 
</div>
</div>
<a id="a1507e408c138290f403907a50e2b5d1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1507e408c138290f403907a50e2b5d1c">&#9670;&nbsp;</a></span>Bool_char_rule_4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Bool_char_rule_4 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the battery to charge and discharge at the same time 4/5
</pre> 
</div>
</div>
<a id="a85d28f45143d7ae45b7e2358dfe14923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85d28f45143d7ae45b7e2358dfe14923">&#9670;&nbsp;</a></span>Bool_cons_rule_1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Bool_cons_rule_1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the system to inject and export energy at the same time 1/5
</pre> 
</div>
</div>
<a id="a748be39fe52af9daef16738ff06030b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a748be39fe52af9daef16738ff06030b7">&#9670;&nbsp;</a></span>Bool_cons_rule_2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Bool_cons_rule_2 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the system to inject and export energy at the same time 2/5
</pre> 
</div>
</div>
<a id="a3d3409e76da5b5e02801ea5ba73dc7f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3409e76da5b5e02801ea5ba73dc7f1">&#9670;&nbsp;</a></span>Bool_cons_rule_3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Bool_cons_rule_3 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the system to inject and export energy at the same time 3/5
</pre> 
</div>
</div>
<a id="a9dda8c2199a8eba50bb01cdc929d37e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dda8c2199a8eba50bb01cdc929d37e5">&#9670;&nbsp;</a></span>Bool_cons_rule_4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Bool_cons_rule_4 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the system to inject and export energy at the same time 4/5
</pre> 
</div>
</div>
<a id="ab91a1eb4aff41e831d022f2ededb6dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91a1eb4aff41e831d022f2ededb6dcd">&#9670;&nbsp;</a></span>Cons_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Cons_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Forbids the system to inject and export energy at the same time 5/5
</pre> 
</div>
</div>
<a id="aae69104b239c580c31f61daa9845e39e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae69104b239c580c31f61daa9845e39e">&#9670;&nbsp;</a></span>Conv_losses_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Conv_losses_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Converter losses definition. 1-Converter_efficiency times the electricity that pass through the converter.
</pre> 
</div>
</div>
<a id="ab2b4ae6c314b779015922d5635090710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2b4ae6c314b779015922d5635090710">&#9670;&nbsp;</a></span>Converter_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Converter_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Converter power definition. All electricity flows through the Converter must be lower than the inverter nominal power (including losses).
</pre> 
</div>
</div>
<a id="a785fe683f3e79df7f8a0234fd7bae5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a785fe683f3e79df7f8a0234fd7bae5b7">&#9670;&nbsp;</a></span>Curtailment_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Curtailment_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Restrains the maximum PV injection into the grid (in kW) if avoidance of PV curtailment is activated. In the other case it skips the rule since PV curtailed is not necessarily zero, it depends as well on the inverter size.
</pre> 
</div>
</div>
<a id="a063633601bec91a8e0bf87f9bb0aa6ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063633601bec91a8e0bf87f9bb0aa6ab">&#9670;&nbsp;</a></span>def_storage_state_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.def_storage_state_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
State of charge definition as the previous SOC plus charged electricity minus losses minus discharged electricity. Stablishes as well the initial SOC at SOC_min
</pre> 
</div>
</div>
<a id="aac61ce084b61fa22a2546dafc494bcb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac61ce084b61fa22a2546dafc494bcb0">&#9670;&nbsp;</a></span>E_char_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.E_char_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Balance of energy charged into the battery from PV and grid.
</pre> 
</div>
</div>
<a id="ab78ac81e78bfa9c6a030d20f4422d4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab78ac81e78bfa9c6a030d20f4422d4ab">&#9670;&nbsp;</a></span>E_dis_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.E_dis_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Sets the maximum energy available to be discharged as the SOC - the minimum SOC.
</pre> 
</div>
</div>
<a id="a0aaf8565592895b8afeffcd33c6452c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aaf8565592895b8afeffcd33c6452c7">&#9670;&nbsp;</a></span>Grid_cons_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Grid_cons_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Balance of grid consumption, includes the electricity consumed by the battery, the loads, and losses in the inverter (when charging the battery from the grid),
</pre> 
</div>
</div>
<a id="ab5baa41892f3e1bd503c0259eb081d7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5baa41892f3e1bd503c0259eb081d7c">&#9670;&nbsp;</a></span>Inv_losses_Batt_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Inv_losses_Batt_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Battery inverter losses definition. 1-Inverter_efficiency times the electricity that pass through the Inverter (takes into account only battery related electricity). E_dis is the energy discharged from the battery, thus no need to divide by the inverter efficiency.
</pre> 
</div>
</div>
<a id="aec58b73a9e0936ba025185e9beac66be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec58b73a9e0936ba025185e9beac66be">&#9670;&nbsp;</a></span>Inv_losses_Grid_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Inv_losses_Grid_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
PV inverter losses definition. 1-Inverter_efficiency times the electricity that pass through the Inverter (takes into account only grid related electricity, i.e. for charging the battery).
</pre> 
</div>
</div>
<a id="ad920676464ef0ff1688919b8c81ab873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad920676464ef0ff1688919b8c81ab873">&#9670;&nbsp;</a></span>Inv_losses_PV_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Inv_losses_PV_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
PV inverter losses definition. 1-Inverter_efficiency times the electricity that pass through the Inverter (takes into account only PV related electricity).
</pre> 
</div>
</div>
<a id="a8e04fc6d66eb06e7b8673fc28098b0bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e04fc6d66eb06e7b8673fc28098b0bb">&#9670;&nbsp;</a></span>Inv_losses_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Inv_losses_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Inverter losses definition. Summation of the PV, battery and grid related losses.
</pre> 
</div>
</div>
<a id="a8faf34cc39e6767513fc5a8957d2611f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8faf34cc39e6767513fc5a8957d2611f">&#9670;&nbsp;</a></span>Inverter_grid_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Inverter_grid_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Inverter power definition. All electricity flows through the inverter must be lower than the inverter nominal power (including losses). This rule is used for grid charging only.
</pre> 
</div>
</div>
<a id="ac92c34a0b08510b70b35e0d5c70443ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac92c34a0b08510b70b35e0d5c70443ee">&#9670;&nbsp;</a></span>Inverter_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Inverter_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Inverter power definition. All electricity flows through the inverter must be lower than the inverter nominal power (including losses).
</pre> 
</div>
</div>
<a id="a073ca69e2d3f4650b19e9f703f0e3295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a073ca69e2d3f4650b19e9f703f0e3295">&#9670;&nbsp;</a></span>Obj_fcn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Obj_fcn </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
The bill is calculated in two parts, the energy related part is the retail price times the energy consumed from the grid minus the export price times the PV injection. If there is demand peak shaving (a capacity tariff is applied) the maximum power taken from the grid (in kW) is multiplied by the DAILY capacity tariff ($/kW per day).
</pre> 
</div>
</div>
<a id="a12fc2729e8471d6cd254664a9bd94390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12fc2729e8471d6cd254664a9bd94390">&#9670;&nbsp;</a></span>P_max_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.P_max_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Calculates the maximum power drained from the grid each day.
TODO
-------
include the same rule for PV injection as well
#def P_max_rule_grid(m,i):
return (m.E_PV_grid[i]&lt;=m.P_max_day*m.dt)
</pre> 
</div>
</div>
<a id="acf9197fcddcdd5c3bd324a1227235ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf9197fcddcdd5c3bd324a1227235ee2">&#9670;&nbsp;</a></span>PVSC_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.PVSC_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
Sets the flows from grid to the battery to zero if demand load shifting is not activated. In the other case it skips the rule.
</pre> 
</div>
</div>
<a id="a1b5e92f8502a9cbcd92198d9857a6d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b5e92f8502a9cbcd92198d9857a6d83">&#9670;&nbsp;</a></span>Sold_rule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def LP.Sold_rule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Description
-------
The total PV generation must be greater than the PV electricity injected into the grid and the PV curtailed.
</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
